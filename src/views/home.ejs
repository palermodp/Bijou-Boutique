<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="website icon" type="png" href="images/brandmark@2x-8.png" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bijou Boutique</title>
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
  </head>
  <body>
    <div id="welcome-alert" class="welcome-alert"></div>
    <%- include("partials/header.ejs", { user: user }) %>
    <nav>
      <ul>
        <li><a href="/aboutUs">Acerca de nosotros</a></li>
        <% if (user && user.role === 'admin') { %>
        <li><a href="/products/productCard">Edición de productos</a></li>
        <li><a href="/products/create">Crear producto</a></li>
        <% } %>
        <li><a href="/products">Nuestros productos</a></li>
        <li><a href="/maps">Nuestras sucursales</a></li>
        <li><a href="/contactUs">Contáctanos</a></li>
      </ul>
    </nav>
    <main>
      <section class="slider-container">
        <div class="swiper">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="/images/slider1.jpg" alt="Slider Image 1" />
              <div class="slide-content">
                <h2>Bienvenido a Bijou Boutique</h2>
                <p>Descubre nuestra exclusiva colección</p>
              </div>
            </div>
            <div class="swiper-slide">
              <img src="/images/slider2.jpg" alt="Slider Image 2" />
              <div class="slide-content">
                <h2>Diseños Únicos</h2>
                <p>Calidad y elegancia en cada pieza</p>
              </div>
            </div>
            <div class="swiper-slide">
              <img src="/images/slider3.jpg" alt="Slider Image 3" />
              <div class="slide-content">
                <h2>Colección Premium</h2>
                <p>Joyas que cuentan historias</p>
              </div>
            </div>
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </section>
      <section class="main-section">
        <img src="/images/joyas.jpg" alt="Imagen grande" />
        <div class="image-info">
          <p>
            Mira todo nuestro catalogo
            <a href="/products" class="read-more-link">aqui</a>
          </p>
        </div>
      </section>
      <section class="novedades-section">
        <h2 class="ultimas-novedades">Últimas Novedades</h2>
        <div class="news-container">
          <article class="news-item">
            <img src="/images/novedades1.png" alt="Novedad 1" />
            <h3>¿Te gustaria conocer sobre nuestra historia?</h3>
            <p>
              ¡Aqui encontraras el como nacio Bijou Boutique y todo su
              recorrido!
            </p>
            <a href="/aboutUs">Leer más</a>
          </article>
          <article class="news-item">
            <img src="/images/novedades2.png" alt="Novedad 2" />
            <h3>¿Queres ser parte de Bijou Boutique?</h3>
            <p>
              ¡Contactanos y podras quedar seleccionado para ser parte de
              nuestro equipo!
            </p>
            <a href="/contactUs">Leer más</a>
          </article>
        </div>
      </section>
      <section class="item-especial">
        <div class="flexible">
          <div class="itemFlex1">
            <img src="/images/reloj.jpg" alt="imgFlex" />
          </div>
          <div class="itemFlex2">
            <h1>Modelo iconico</h1>
            <h2>Alpine Eagle</h2>
            <div class="separator"></div>
            <p>
              Descubre la sofisticación en cada momento con nuestro reloj
              elegante. Con un diseño moderno y funcionalidades avanzadas, este
              reloj es la elección perfecta para ocasiones especiales y tu día a
              día. Conoce la combinación única de estilo y precisión que te
              ofrece este exclusivo reloj de Bijou Boutique.
            </p>
          </div>
        </div>
      </section>
      <section class="products-section">
        <h2>Productos Destacados</h2>
        <div class="product-container">
          <% for (let i = 0; i < 4; i++) { %> <% const product = products[i]; %>
          <div class="product">
            <img
              src="/images/<%= product.image %>"
              alt="Producto <%= i + 1 %>"
            />
            <h3 class="product-name"><%= product.name %></h3>
            <p class="product-description"><%= product.description %></p>
            <a href="/products/<%= product.id %>">Ver Detalles</a>
          </div>
          <%}%>
        </div>
      </section>
    </main>
    <%- include("partials/footer.ejs") %>
    <a
      href="https://wa.me/message/2JHVL5B5NH2UD1"
      target="_blank"
      class="whatsapp-icon"
    >
      <i class="fa-brands fa-whatsapp"></i>
    </a>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const radioBtns = document.querySelectorAll('input[name="radio-btn"]');
        let currentSlide = 0;

        function nextSlide() {
          radioBtns[currentSlide].checked = false;
          currentSlide = (currentSlide + 1) % radioBtns.length;
          radioBtns[currentSlide].checked = true;
        }

        setInterval(nextSlide, 5000);
      });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      const swiper = new Swiper(".swiper", {
        loop: true,
        autoplay: {
          delay: 5000,
          disableOnInteraction: false,
        },
        effect: "fade",
        fadeEffect: {
          crossFade: true,
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
    </script>
  </body>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const welcomeName = urlParams.get("welcome");
        const logout = urlParams.get("logout");

        if (welcomeName) {
            const alert = document.getElementById("welcome-alert");
            alert.textContent = `¡Bienvenido/a ${welcomeName}!`;
            alert.classList.add("show");

            setTimeout(() => {
                alert.classList.remove("show");
            }, 3000);
        }

        if (logout) {
            const alert = document.getElementById("welcome-alert");
            alert.textContent = "¡Sesión cerrada correctamente!";
            alert.classList.add("show");

            setTimeout(() => {
                alert.classList.remove("show");
            }, 3000);
        }

        // Limpiar la URL
        window.history.replaceState({}, document.title, window.location.pathname);
    });
  </script>
</html>
